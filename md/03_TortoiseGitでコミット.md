<link rel="stylesheet" href="../default+.css"/>

# 03_TortoiseGitでgitクローン、コミット、プッシュ
TortoiseGitとgithubの連携を行い、TortoiseGitからコミットする。

## 前提
- githubのアカウントは作成済
- TortoiseGitはまだDLしてない

## 概要（何してるの？）
実は、javaの資料は既にある程度作成済だったので、githubにアップロードしてコミットしたい。  
githubに直接アップロードしてもいいけど、ここではTortoiseGitを使ってコミットして目的を果たす。

## 目次
- [03\_TortoiseGitでgitクローン、コミット、プッシュ](#03_tortoisegitでgitクローンコミットプッシュ)
	- [前提](#前提)
	- [概要（何してるの？）](#概要何してるの)
	- [目次](#目次)
- [手順 - gitクローン](#手順---gitクローン)
	- [0. TortoiseGitの準備](#0-tortoisegitの準備)
	- [1. どこかにgit用フォルダを作る](#1-どこかにgit用フォルダを作る)
	- [2. gitクローンする](#2-gitクローンする)
		- [TortoiseGitとgithubの連携](#tortoisegitとgithubの連携)
	- [3. クローン完了](#3-クローン完了)
- [手順 - コミット](#手順---コミット)
	- [1. コミット画面を開く](#1-コミット画面を開く)
	- [2. コミットの設定をして実行](#2-コミットの設定をして実行)
	- [3. コミット完了](#3-コミット完了)
- [手順 - push](#手順---push)
	- [1. プッシュ画面を開く](#1-プッシュ画面を開く)
	- [2. プッシュする](#2-プッシュする)
	- [3. プッシュ完了](#3-プッシュ完了)
- [チェックマークについて](#チェックマークについて)





# 手順 - gitクローン
まず、github上に存在するコードをローカルに持ってきたい。  
普通にZipファイルをダウンロードしても持ってこれるが、コミットとかしたいので、`gitクローン`を行う。  

クローンとは、サーバ上のリポジトリをコンピュータへコピーすること。
また、github上にあるリポジトリを<strong>リモートリポジトリ</strong>、クローンしてPCに持ってきたリポジトリを<strong>ローカルリポジトリ</strong>と呼ぶ。


リモートリポジトリはサーバ上のファイルやフォルダ、ローカルリポジトリはそのサーバ上のファイルをフォルダごとコピーしてPCに保存したもの、と思ってください。  
また、これから本格的にgitについて解説しますが、基本的には共有サーバとローカルPCのやり取りで考えればわかりやすいと思います。

## 0. TortoiseGitの準備
TortoiseGitはgitのクライアント。gitを使いやすくしてくれる。
インストールして日本語化までする。gitがまだだったらそっちもする。詳細は割愛。下記URL参考に。
[Gitのインストール｜サル先生のGit入門【プロジェクト管理ツールBacklog】](https://backlog.com/ja/git-tutorial/intro/05/)

## 1. どこかにgit用フォルダを作る
ひとまず、どこかにgit用のフォルダを作る。C直下やユーザー直下に「git」とか、わかりやすい名前を付けて作成。  
この中にリポジトリを持ってくるイメージ。
```text 
C:
  └git
    ├ java-training-document
    │ ├─ カンペ集
    │ │  ├─ その他資料
    │ │  ├─ スケジュール
    │ │  └─ 講座内容
    │ └─ 課題・ソースコード
    │ 
    ├ 別のリポジトリ
   ...
```
フォルダ構成は上記のようになっていく。



## 2. gitクローンする
作ったフォルダを右クリックして、`gitクローン(複製)...`を選択。
<img src="../resource/3/03_clone01.png">

下記のようなgitクローン画面が表示される。
<div class="Column2Div"><img src="../resource/3/03_clone02.png"><div style='font-size: 110%;'>

1. URL:
   クローンする元のリポジトリのURLを入力する。
2. ディレクトリ
   クローン先のフォルダ。特にいじることはない。

</div></div>



gitクローン画面に入力するためのURLを取得する。githubのページの、`Code`からコピーできる。
<img src="../resource/3/03_clone03.png">

`URL:`欄に、コピーしたURLを貼り付ける。すると、クローン先のパスにレポジトリ名のディレクトリが自動的に追加される。  
また、このディレクトリが存在しない場合、クローン実行時に作成される。
<img src="../resource/3/03_clone04.png">

チェックは特にせず、そのまま`OK`を選択。コマンド実行中のウィンドウが表示される。


### TortoiseGitとgithubの連携
<details><summary>連携を求められたら実行する</summary>

TortoiseGitとgithubの連携を求める、下記のような画面が表示されている想定。

<img src="../resource/3/03_clone05.png">

言われるがままに連携を進めていけばよい。はず。

<img src="../resource/3/03_clone06.png">

<img src="../resource/3/03_clone07.png" style="position: absolute; margin-left: 1em;">

連携終了すればコマンド実行が再開される。

</details>

## 3. クローン完了
コマンドが成功したら完了。
<img src="../resource/3/03_clone08.png">

gitフォルダを開くと、githubのリポジトリと同じフォルダ構成になっている。
<img src="../resource/3/03_clone09.png">


> 緑のチェックマークについては後述します。
> 現状では、付いていてもいなくても問題ありません。


# 手順 - コミット
リポジトリをローカルに持ってきたので、早速ファイルを追加する。ファイルをコピペするだけなので割愛。
<img src="../resource/3/03_commit01.png">


## 1. コミット画面を開く
右クリックし、`Git コミット(C) > "main"...`を選択。
<img  src="../resource/3/03_commit02.png">


## 2. コミットの設定をして実行
下記のような画面が表示されるので、メッセージを書き込み、コミットするファイルを選択する。

<div class="Column2Div"><img src="../resource/3/03_commit03.png"><div style='font-size: 110%;'>

1. メッセージ(M):
   そのままの意味。メッセージ。
   1行目がgithubでコミットするときの概要、2行目からが詳細となる。

2. 変更した項目
   変更されたファイルの一覧。
   チェックされたファイルがコミットされる。
   今回は新規ファイルを追加したので、各ファイルの状態は「管轄外」となっている。

</div></div>

コミット(O)をクリックすればコミットが実行され、コマンド実行中のウィンドウが表示される。

## 3. コミット完了
コマンドが成功したら完了。
<img src="../resource/3/03_commit04.png">




# 手順 - push
今の作業では、ローカルのリポジトリにしか変更が反映されていない。githubのリポジトリに変更を反映させるため、プッシュする必要がある。  

pushとは、ローカルリポジトリの更新をリモートリポジトリへ反映させること。  
ローカルPCで編集したファイルを共有サーバにアップロードするイメージ。

## 1. プッシュ画面を開く
さっきのコミット完了のウィンドウの、左下の`プッシュ(H)`をクリック。  
もし閉じていた場合は、リポジトリのフォルダを右クリックし、`TortoiseGit > プッシュ(H)...`と選択する。


## 2. プッシュする
下記のような画面が表示されるので、今回はそのまま`OK`を選択する。
<img src="../resource/3/03_push01.png">

`OK`を選択すると、いつものコマンド実行画面が表示される。


## 3. プッシュ完了
コマンドが成功すれば完了。
<img src="../resource/3/03_push02.png">


無事にgithubにも変更が反映されている。
<img src="../resource/3/03_push03.png">


# チェックマークについて
TortoiseGitを使っていると、git管理されているファイルやフォルダは、アイコンにマークが付く。  
マークがついていない場合は、最新の状態に更新するか、PCを再起動すれば付くようになるはず。
<img src="../resource/3/03_mark01.png">

アイコンの種類と意味は以下の通り。この一覧はTortoiseGitの設定から確認できる。
<img src="../resource/3/03_mark02.png">


